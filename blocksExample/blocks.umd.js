!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.blocks=t():e.blocks=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){t.Block=n(1),t.Style=n(2),t.Canvas=n(3),t.Container=n(4),t.Button=n(5),t.CheckBox=n(6),t.Image=n(7),t.List=n(8),t.Radio=n(9),t.Select=n(10),t.Table=n(11),t.TextArea=n(12),t.TextField=n(13),t.Text=n(14),Object.defineProperty(t,"dev",{get:function(){return t.Block.dev},set:function(e){t.Block.dev=e}}),t.attach=function(){t.Block.attach.apply(this,arguments)},t.detach=function(){t.Block.detach.apply(this,arguments)},t.createBody=function(){t.Block.detach.apply(this,arguments)}},function(e,t,n){function i(e){return void 0!==e.add&&e.children instanceof Array&&void 0!==e.domNode}var r=n(19),o=n(24),s=n(29),a=n(30),u=n(15),l=n(16),c=n(17),h=n(2);h.isDev=function(){return e.exports.dev};{var d={},f=u.arrayToMap(["abort","afterprint","animationend","animationiteration","animationstart","audioprocess","beforeprint","beforeunload","beginEvent","blocked","blur","cached","canplay","canplaythrough","change","chargingchange","chargingtimechange","checking","click","close","compassneedscalibration","complete","compositionend","compositionstart","compositionupdate","contextmenu","copy","cut","dblclick","decivelight","devicemotion","deviceorientation","deviceproximity","dischargingtimechange","DOMContentLoaded","downloading","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","endEvent","error","focus","focusin","focusout","fullscreenchange","fullscreenerror","gamepadconnected","gamepaddisconnected","hashchange","input","invalid","keydown","keypress","keyup","languagechange","levelchange","load","loadeddata","loadedmetadata","loadend","loadstart","message","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","noupdate","obsolete","offline","online","open","orientationchange","pagehide","pageshow","paste","pause","pointerlockchange","pointerlockerror","play","playing","popstate","progress","ratechange","readystatechange","repeatEvent","reset","resize","scroll","seeked","seeking","select","show","stalled","storage","submit","success","suspend","SVGAbort","SVGError","SVGLoad","SVGResize","SVGScroll","SVGUnload","SVGZoom","timeout","timeupdate","touchcancel","touchend","touchenter","touchleave","touchmove","touchstart","transitionend","unload","updateready","upgradeneeded","userproximity","versionchange","visibilitychange","volumechange","waiting","wheel"]);e.exports=o(r,function(e){this.init=function(){var t=this;if(void 0===this.name)throw new Error("The 'name' property is required for Blocks");var n=c.defaultStyleMap.get(this.constructor);void 0===n&&(n=c.createDefaultBlockStyle(this)),e.init.call(this),this.children=[],this.state=a({}),this.parent=void 0,void 0!==this.id&&(d[this.id]=this),void 0===this.domNode&&(this.domNode=l.div()),this.build.apply(this,arguments),this.attr("blkName",this.name);var i=[this.domNode.className];n!==!1&&i.push(n.className),i.push(h.defaultClassName),this.domNode.className=i.join(" ");var r={};t.ifon(function(e){!(e in f)||void 0!==t.excludeDomEvents&&e in t.excludeDomEvents||t.domNode.addEventListener(e,r[e]=function(){t.emit.apply(t,[e].concat(Array.prototype.slice.call(arguments)))})}),t.ifoff(function(e){!(e in f)||void 0!==t.excludeDomEvents&&e in t.excludeDomEvents||t.domNode.removeEventListener(e,r[e])})},this.build=function(){1===arguments.length?this.domNode=arguments[0]:arguments.length>=2&&(this.label=arguments[0],this.domNode=arguments[1])},this.domNode,this.label,this.excludeDomEvents,this.children,Object.defineProperty(this,"label",{get:function(){return this._label},set:function(e){if(void 0!==this._label)throw new Error("A Block's label can only be set once (was already set to: "+this._label+")");this._label=e,this.attr("label",this._label)}}),this.add=function(){this.addAt.apply(this,[this.domNode.children.length].concat(s(arguments)))},this.addAt=function(e){for(var t=g.apply(this,arguments),n=0;n<t.length;n++){var r=t[n];if(this.children.splice(e+n,0,r),!i(r))throw new Error("node is not a Block");r.parent=void 0,r.emit("parentRemoved");var o=this.children[1+n+e];void 0===o?this.domNode.appendChild(r.domNode):this.domNode.insertBefore(r.domNode,o.domNode),r.parent=this,r.emit("newParent");var s=this;r.getParentStyleMap=function(){return s.computedStyleMap},c.propogateStyleSet([r],this.computedStyleMap)}},this.addBefore=this.addBeforeNode=function(e){var t=s(arguments).slice(1);if(void 0===e)this.add.apply(this,t);else{var n=this.children.indexOf(e);this.addAt.apply(this,[n].concat(t))}},this.remove=function(){var e=m.apply(this,arguments);e=e.sort(function(e,t){return t-e});for(var t=0;t<e.length;t++){var n=e[t],i=this.children[n];if(void 0===i)throw new Error("There is no child at index "+n);i.parent=void 0,this.children.splice(n,1),this.domNode.removeChild(this.domNode.childNodes[n]),i.emit("parentRemoved")}},this.attr=function(){if(1===arguments.length){if(!(arguments[0]instanceof Object)){var e=this.domNode.getAttribute(arguments[0]);return null===e?void 0:e}var t=arguments[0];for(var e in t)l.setAttribute(this.domNode,e,arguments[0][e])}else{var e=arguments[0];if(void 0!==arguments[1]){var n=arguments[1];l.setAttribute(this.domNode,arguments[0],n)}else this.domNode.removeAttribute(e)}},Object.defineProperty(this,"visible",{get:function(){return"none"!==this.domNode.style.display},set:function(e){e?void 0!==this._displayStyle?(this.domNode.style.display=this._displayStyle,this._displayStyle=void 0):this.domNode.style.display="":(""!==this.domNode.style.display&&"none"!==this.domNode.style.display&&(this._displayStyle=this.domNode.style.display),this.domNode.style.display="none")}}),Object.defineProperty(this,"focus",{get:function(){return document.activeElement===this.domNode},set:function(e){e?this.domNode.focus():this.domNode.blur()}}),Object.defineProperty(this,"style",{get:function(){return this._style},set:function(e){if(void 0===e){var t=this.getParentStyleMap();void 0!==t?c.setCurrentStyle(this,c.getStyleForComponent(t,this)):c.setCurrentStyle(this,void 0),this.computedStyleMap=t}else{c.setCurrentStyle(this,e);var n=e.get(this);this.computedStyleMap=void 0!==this.getParentStyleMap()?c.styleMapConjunction(this.getParentStyleMap(),n.componentStyleMap):n.componentStyleMap}this._style=e,c.propogateStyleSet(this.children,this.computedStyleMap)}}),Object.defineProperty(this,"selectionRange",{get:function(){return l.getSelectionRange(this.domNode)},set:function(e){l.setSelectionRange(this.domNode,e[0],e[1])}}),this.attach=function(){v(this)},this.detach=function(){p(this)},this.getParentStyleMap=function(){},this.computedStyleMap,this._style,this.currentStyle,this._displayStyle,this._styleSetupStates})}e.exports.dev=!1;var v=e.exports.attach=function(){if(arguments[0]instanceof Array)var e=arguments[0];else var e=arguments;if(null===document.body)throw new Error("Your document does not have a body.");for(var t=0;t<e.length;t++)document.body.appendChild(e[t].domNode)},p=e.exports.detach=function(){if(arguments[0]instanceof Array)var e=arguments[0];else var e=arguments;for(var t=0;t<e.length;t++)document.body.removeChild(e[t].domNode)};e.exports.createBody=function(e){var t=document.implementation.createDocument("http://www.w3.org/1999/xhtml","html",null),n=t.createElement("body");t.documentElement.appendChild(n),setTimeout(function(){e()},0)};var m=e.exports.normalizeRemoveArguments=function(){var e=this;if(arguments[0]instanceof Array)var t=arguments[0];else var t=Array.prototype.slice.call(arguments);return t.map(function(t,n){if(i(t)){var r=e.children.indexOf(t);if(-1===r)throw new Error("The Block passed at index "+n+" is not a child of this Block.");return r}return t})},g=e.exports.normalizeAddAtArguments=function(){return 2===arguments.length?arguments[1]instanceof Array?arguments[1]:[arguments[1]]:s(arguments).slice(1)}},function(e,t,n){function i(e,t){var n={};for(var i in t){var r=t[i],o=i.split(":"),s=[],a=[];for(var u in o){var d=o[u],f=h(d);f["class"]in _?s.push(d):a.push(d)}if(0===s.length)c(i,r),l(e,i,"."+e.className+":"+i,r);else{s.sort();var v=s.join(":");if(void 0===n[v]&&(n[v]={}),0===a.length)b.merge(n[v],r);else{a.sort();var p=a.join(":"),m={};m["$$"+p]=r,b.merge(n[v],m)}}}return n}function r(e){for(var t=Object.keys(e).reverse().map(function(e){return{key:e,parts:e.split(":")}}),n=0;n<t.length;n++)for(var i=t[n],r=2;r<=t.length;r++)for(var o=n+1;o<t.length-(r-2);o++){var s=N(e,[i].concat(t.slice(o,r)));s.key in e?b.merge(e[s.key],s.value):e[s.key]=s.value}}function o(e,t){if(null===e.domNode.parentNode)return!1;var n=e.domNode.parentNode.children,i=Array.prototype.indexOf.call(n,e.domNode);return t(i)}function s(e,t){if(null===e.domNode.parentNode)return!1;var n=e.domNode.parentNode.children,i=n.length-parseInt(t);return n[i]===e.domNode}function a(e){var t=e.match(k);if(null===t)throw new Error("nth-child parameter '"+e+"' isn't valid");if(void 0!==t[2])var n=t[3],i=t[5];else var n=t[8],i=t[7];return n=void 0===n?0:parseInt(n),i=void 0===i?0:parseInt(i),0===i?function(e){return e+1===n}:function(e){return(e+1-n)/i%1===0}}function u(e,t){return"number"==typeof t&&void 0===j[e]?t+"px":t.toString()}function l(e,t,n,i){var r={};for(var o in i){var s=i[o];if(s instanceof Object)throw new Error("All properties within the pseudoclasses '"+t+"' must be css styles");var a=o,l=v(a);r[l]=u(l,s)}L.set(n,r),e.styleDefinitions={},e.styleDefinitions[n]=r}function c(e,t){for(var n in t){var i=t[n];if(f(i))throw new Error("Can't set the pseudoclasses '"+e+"' to a Style object");if("$setup"===n)throw new Error("$setup can't be used within the pseudoclasses '"+e+"'");if("$kill"===n)throw new Error("$kill can't be used within the pseudoclasses '"+e+"'");if(0===n.indexOf("$"))throw new Error("Block labels can't be used within the pseudoclasses '"+e+"'")}}function h(e){var t=e.match(E);if(null===t)throw new Error("Pseudoclass '"+e+"' is invalid");return{"class":t[1],parameter:t[3]}}function d(e,t){var n={},i={};for(var r in t){var o=t[r];if(0===r.indexOf("$$")){var s=r.substr(2);if(""===s)throw new Error("Empty pseudo-class name not valid (style key '$$')");i[s]=o}else n[r]=o}var a={};for(var s in i){var o=i[s];f(o)?a[e+":"+s]=o:b.merge(a,d(e+":"+s,b.merge({},n,o)))}return a[e]=n,a}function f(e){return void 0!==e&&void 0!==e.componentStyleMap}function v(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);n>=O&&A>=n&&(e=e.slice(0,t)+"-"+String.fromCharCode(n+C)+e.slice(t+1),t++)}return e}function p(e){for(var t=void 0,n=document.querySelectorAll("style"),i=0;i<n.length;i++){var r=n[i].sheet;m.defaultSheet=r;var o=m.get(e);if(Object.keys(o).length>0){t=i;break}}return m.defaultSheet=void 0,t}var m=n(25),g=n(24),y=n(31),b=n(15),w=(n(17),"_ComponentStyle_"),x=0,S=e.exports=g(function(){this.defaultClassName="_default_",this.init=function(e,t){void 0===t&&(t={}),void 0===t.inLabel&&(inLabel=!1),this.className=w+x,x++,this.componentStyleMap={},this.labelStyleMap={};var n={},o={},s={};for(var a in e){var l=e[a];if("$setup"===a){if(!(l instanceof Function))throw new Error("$setup key must be a function ('setup' can't be used as a label)");this.setup=l}else if("$kill"===a){if(!(l instanceof Function))throw new Error("$kill key must be a function ('kill' can't be used as a label)");this.kill=l}else if("$state"===a){if(!(l instanceof Function))throw new Error("$state key must be a function ('$state' can't be used as a label)");this.stateHandler=l}else if(0===a.indexOf("$$")){var c=v(a.substr(2));if(""===c)throw new Error("Empty pseudo-class name not valid (style key '$$')");b.merge(o,d(c,l))}else if(0===a.indexOf("$")){if(t.inLabel)throw new Error("Can't create nested label style "+a+" because components can only have one label");var p=a.substr(1);if(""===p)throw new Error("Empty label name not valid (style key '$')");n[p]=l}else if(f(l))this.componentStyleMap[a]=l;else if(l instanceof Object)this.componentStyleMap[a]=S(l);else if(void 0===l);else{var m=a,g=v(m);s[g]=u(g,l)}}if(t["default"])var y=L;else var y=P;if(y.set("."+this.className,s),this.styleDefinitions={},this.styleDefinitions["."+this.className]=s,Object.keys(n).length>0){var N=b.merge({},s,this.componentStyleMap);for(var p in n)if(f(n[p]))this.labelStyleMap[p]=n[p];else{var k=b.merge({},N,n[p]);this.labelStyleMap[p]=S(k,{inLabel:!0})}}if(Object.keys(o).length>0){var E=i(this,o);r(E);var j=[],O=[],A={};for(var a in E){if(f(E[a]))E[a]=E[a];else{var C=S(b.merge({},s,E[a]));for(var M in this.componentStyleMap)void 0===C.componentStyleMap[M]&&(C.componentStyleMap[M]=this.componentStyleMap[M]);for(var M in this.labelStyleMap)void 0===C.labelStyleMap[M]&&(C.labelStyleMap[M]=this.labelStyleMap[M]);E[a]=C}for(var T=a.split(":"),R=0;R<T.length;R++){var c=T[R];if(-1===j.indexOf(c)){j.push(c);var B=h(c),D=_[B["class"]],F={fns:D};void 0!==D.processParameter&&(F.parameter=D.processParameter(B.parameter)),A[c]=F}}O.push([T,E[a]])}var H=function(e){for(var t={},n=0;n<j.length;n++){var i=j[n],r=A[i];t[i]=r.fns.check(e,r.parameter)}return t},$=this,I=function(e,t,n){for(var i=0,r=$,o=0;o<O.length;o++){for(var s=O[o][0],a=0;a<s.length&&n[s[a]];a++);a===s.length&&a>i&&(i=a,r=O[o][1])}r!==e&&(t.style=r)},U=function(e){var t=e.setup;e.setup=function(e){var n=this;this._styleSetupStates={};var i=H(e);for(var r in A)!function(t,r){n._styleSetupStates[t]=r.fns.setup(e,function(){i[t]=!0,I(n,e,i)},function(){i[t]=!1,I(n,e,i)},r.parameter)}(r,A[r]);I(n,e,i),void 0!==t&&t.apply(this,arguments)};var n=e.kill;e.kill=function(e){for(var t in A){var i=A[t];i.fns.kill(e,this._styleSetupStates[t])}void 0!==n&&n.apply(this,arguments)}};for(var a in E){var q=E[a];U(q)}U(this)}},this.className,this.componentStyleMap,this.labelStyleMap,this.setup,this.kill,this.get=function(e){if(void 0!==e.label){var t=this.labelStyleMap[e.label];if(void 0!==t)return t}return this}}),N=function(e,t){for(var n=t[0].parts,i=b.merge({},e[t[0].key]),r=1;r<t.length;r++){for(var o=t[r],s=0;s<o.parts.length;s++){var a=o.parts[s];-1===n.indexOf(a)&&n.push(a)}b.merge(i,e[o.key])}return{key:n.join(":"),value:i}},_={hover:{check:function(e){for(var t=document.querySelectorAll(":hover"),n=0;n<t.length;n++)if(t[n]===e.domNode)return!0;return!1},setup:function(e,t,n){return e.on("mouseover",function(){t()}),e.on("mouseout",n),{start:t,end:n}},kill:function(e,t){e.off("mouseover",t.start),e.off("mouseout",t.end)}},checked:{check:function(e){return e.selected},setup:function(e,t,n){var i={};return e.on("change",i.listener=function(){e.selected?t():n()}),i},kill:function(e,t){e.removeListener("change",t.listener)}},required:{check:function(e){return void 0!==e.attr("required")},setup:function(e,t,n){var i=new MutationObserver(function(){void 0!==e.attr("required")?t():n()});return i.observe(e.domNode,{attributes:!0}),{observer:i}},kill:function(e,t){t.observer.disconnect()}},"last-child":{check:function(e){return s(e,"1")},setup:function(e,t,n){var i=new MutationObserver(function(){s(e,"1")?t():n()}),r=function(){i.observe(e.parent.domNode,{childList:!0})};return void 0!==e.parent&&r(),e.on("newParent",function(){r()}),e.on("parentRemoved",function(){i.disconnect()}),{observer:i}},kill:function(e,t){t.observer.disconnect()}},"nth-child":{check:function(e,t){return o(e,t)},setup:function(e,t,n,i){var r=function(){o(e,i)?t():n()},s=new MutationObserver(function(){r()}),a=function(){s.observe(e.parent.domNode,{childList:!0})};return void 0!==e.parent&&a(),e.on("newParent",function(){a(),r()}),e.on("parentRemoved",function(){s.disconnect(),r()}),{observer:s}},kill:function(e,t){t.observer.disconnect()},processParameter:function(e){return a(e)}}};e.exports.addPseudoClass=function(e,t){if(void 0!==_[e])throw new Error("The pseudoclass '"+e+"' is already defined.");_[e]=t};var k=/^(((-?\d*)(([+-]\d*)n?)?)|((-?\d)*n?([+-]\d*)?))$/,E=/^([^(]*)(\((.*)\))?$/,j={"column-count":1,"fill-opacity":1,"flex-grow":1,"flex-shrink":1,"font-weight":1,"line-height":1,opacity:1,order:1,orphans:1,widows:1,"z-index":1,zoom:1},O="A".charCodeAt(0),A="Z".charCodeAt(0),C="a".charCodeAt(0)-O,M={azimuth:"center","border-collapse":"separate","border-spacing":"0","caption-side":"top",direction:"ltr",display:"inline-block",elevation:"","empty-cells":"show","letter-spacing":"normal","line-height":"normal","list-style-image":"none","list-style-position":"outside","list-style-type":"disc",orphans:"2","pitch-range":"",pitch:"",position:"relative",quotes:"",richness:"","speak-header":"","speak-numeral":"","speak-punctuation":"",speak:"","speak-rate":"",stress:"","text-align":"left","text-indent":"0","text-transform":"none","voice-family":"",volume:"","white-space":"normal",widows:"2","word-spacing":"normal"},L=m.forDocument(document),P=m.forDocument(document),T=p("."+S.defaultClassName);if(void 0===T)L.defaultSheet=L._createSheet(),P.defaultSheet=P._createSheet(),L.set("."+S.defaultClassName,M),L.set("input",{cursor:"inherit"});else{console.log("Warning: the default-styles class name for blocks.js looks like its already in use. This probably means you have two versions of blocks.js loaded. If so, Blocks.js will continue to work, but your app will be a bit bloated. If something other than block.js created that class, blocks.js may break that style.");var R=document.querySelectorAll("style");L.defaultSheet=R[T].sheet,P.defaultSheet=R[T+1].sheet;for(var B=0;;){var D=w+B;if(void 0===p("."+D+B+0))break;B++}w=D+B}e.exports.isDev;e.exports.computedStyles=new y},function(e,t,n){{var i=n(1),r=n(24);n(2)}e.exports=r(i,function(e){this.name="Canvas",this.init=function(){if(2===arguments.length)var t=arguments[0],n=arguments[1];else var i=arguments[0],t=arguments[1],n=arguments[2];this.domNode=document.createElement("canvas"),e.init.call(this),this.label=i,this.height=t,this.width=n},Object.defineProperty(this,"width",{get:function(){return this.domNode.width},set:function(e){this.domNode.width=e}}),Object.defineProperty(this,"height",{get:function(){return this.domNode.height},set:function(e){this.domNode.height=e}}),this.context=function(){return this.domNode.getContext.apply(this.domNode,arguments)},this.toImg=this.toDataURL=function(){return this.domNode.toDataURL()}})},function(e,t,n){var i=n(1),r=n(24);e.exports=r(i,function(e){this.name="Container",this.init=function(){if("string"!=typeof arguments[0])var t=arguments;else var n=arguments[0],t=Array.prototype.slice.call(arguments,1);e.init.call(this),this.label=n,void 0!==t&&this.add.apply(this,t)}})},function(e,t,n){var i=n(1),r=n(24);e.exports=r(i,function(e){this.name="Button",this.init=function(){if(arguments.length>=2)var t=arguments[0],n=arguments[1];else var n=arguments[0];this.domNode=document.createElement("input"),e.init.call(this),this.label=t,this.attr("type","button"),this.text=n},Object.defineProperty(this,"text",{get:function(){return this.attr("value")},set:function(e){this.attr("value",e)}})})},function(e,t,n){var i=n(1),r=n(24);e.exports=r(i,function(e){this.name="CheckBox",this.init=function(t){this.domNode=document.createElement("input"),e.init.call(this),this.label=t,this.attr("type","checkbox")},Object.defineProperty(this,"selected",{get:function(){return this.domNode.checked},set:function(e){var t=e===!0,n=this.domNode.checked;n!==t&&(this.domNode.checked=t,this.emit("change"))}})})},function(e,t,n){var i=n(1),r=n(24);e.exports=r(i,function(e){this.name="Image",this.init=function(){if(1===arguments.length)var t=arguments[0];else var n=arguments[0],t=arguments[1];this.domNode=document.createElement("img"),e.init.call(this);this.label=n,void 0!==t&&(this.src=t)},Object.defineProperty(this,"src",{get:function(){return this.domNode.src},set:function(e){this.domNode.src=e}})})},function(e,t,n){var i=n(24),r=n(1),o=n(2),s=n(20);e.exports=i(r,function(e){this.Item=s,this.name="List",this.init=function(){if(arguments[0]instanceof Array)var t=arguments[0];else{if(arguments[1]instanceof Array)var t=arguments[1];else if(arguments[2]instanceof Array)var t=arguments[2];if("boolean"==typeof arguments[0])var n=arguments[0];else{if("boolean"==typeof arguments[1])var n=arguments[1];else var n=!1;if("string"==typeof arguments[0])var i=arguments[0]}}if(n)var r="ol";else{var r="ul";this.defaultStyle=o({listStyleType:"decimal"})}if(this.domNode=document.createElement(r),e.init.call(this),this.label=i,void 0!==t)for(var s=0;s<t.length;s++)this.item(t[s])},this.item=function(){var e=s.apply(this,arguments);return this.add(e),e}})},function(e,t,n){function i(e,t){var n=e.group.buttons,i=Object.keys(n),r=i.indexOf(e.attr("value"));if(1===t&&r===i.length-1)var o=n[i[0]];else if(-1===t&&0===r)var o=n[i[i.length-1]];else var o=n[i[r+t]];o.selected=!0,o.focus()}function r(e,t){var n=e._selected;void 0!==n&&(n.domNode.checked=!1),t.domNode.checked=!0,e._selected=t}function o(e,t){return Math.floor(Math.random()*(t-e))+e}var s=n(24),a=n(28).EventEmitter,u=n(1),l=o(0,999999);e.exports=s(a,function(){this.name="Radio",this.init=function(e){this.required=e===!0||void 0===e,this.buttons={},this.randomStart=l++},this.button=function(){if(arguments.length>=2)var e=arguments[0],t=arguments[1];else var t=arguments[0];if(void 0!==this.buttons[t])throw new Error("Can't give a RadioButton the same value as another in the group (value: '"+t+"')");var n=c(this,e,t,"_radioblock"+this.randomStart);return this.buttons[t]=n,this.required&&void 0===this._selected&&(n.selected=!0),n},Object.defineProperty(this,"selected",{get:function(){return this._selected},set:function(){throw new Error("Can't set selected on a Radio object")}}),Object.defineProperty(this,"val",{get:function(){var e=this._selected;return void 0===e?void 0:e.attr("value")},set:function(e){if(void 0===e){var t=this._selected;void 0!==t&&(t.selected=!1)}else{var n=this.buttons[e];if(void 0===n)throw new Error("There is no RadioButton in the group with the value: '"+e+"'");n.selected=!0}}}),this.remove=function(){if(arguments[0]instanceof Array)var e=arguments[0];else var e=arguments;for(var t=0;t<e.length;t++){var n=e[t];if(n instanceof c){var i=n,r=n.val;if(this.buttons[r]!==n)throw new Error("The button passed at index "+t+" is not part of the group.")}else{var i=this.buttons[n],r=n;if(void 0===i)throw new Error("There is no RadioButton in the group with the value: '"+r+"'")}var o=this.selected;this.selected===i&&(this._selected=void 0),this.buttons[r].group=void 0,delete this.buttons[r]}if(this.required&&void 0===this.selected)for(var s in this.buttons){this.buttons[s].selected=!0;break}else o!==this.selected&&this.emit("change")}});var c=s(u,function(e){this.name="RadioButton",this.init=function(t,n,i,r){this.domNode=document.createElement("input"),e.init.call(this),this.label=n,this.group=t,this.attr("type","radio"),this.attr("name",r),this.val=i;var o=this;this.on("mousedown",function(e){e.preventDefault(),o.group.required?o.selected===!1&&(o.selected=!0):o.selected=!o.selected}),this.on("click",function(e){e.preventDefault()}),this.on("keydown",function(e){40===e.keyCode||39===e.keyCode?(e.preventDefault(),o.selectNext()):(38===e.keyCode||37===e.keyCode)&&(e.preventDefault(),o.selectPrevious())})},Object.defineProperty(this,"val",{get:function(){return this.attr("value")},set:function(e){if(void 0!==this.group.buttons[e])throw new Error("Can't give a RadioButton the same value as another in the group (value: '"+e+"')");var t=this.val;this.attr("value",e),void 0!==t&&delete this.group.buttons[t],this.group.buttons[e]=this}}),Object.defineProperty(this,"selected",{get:function(){return this.domNode.checked},set:function(e){var t=e===!0;if(this.selected!==e){if(t){var n=this.group.selected;r(this.group,this),void 0!==n&&n.emit("change")}else{if(this.group.required)throw new Error("Can't unset this Radio set, a value is required.");this.domNode.checked=!1,this.group._selected=void 0}this.emit("change"),this.group.emit("change")}}}),this.selectNext=function(){i(this,1)},this.selectPrevious=function(){i(this,-1)}})},function(e,t,n){var i=n(1),r=n(24),o=n(18);e.exports=r(i,function(e){this.name="Select",this.Option=o,this.init=function(){if(arguments[0]instanceof Object)var t=arguments[0];else var n=arguments[0],t=arguments[1];this.domNode=document.createElement("select"),e.init.call(this),this.label=n,this.options={};for(var i in t)this.option(i,t[i])},Object.defineProperty(this,"val",{get:function(){for(var e in this.options)if(this.options[e].selected)return e},set:function(e){var t=this.options[e];if(void 0===t)throw new Error("There is no Option in the Select with the value: '"+e+"'");t.selected=!0}}),this.option=function(){if(2===arguments.length)var e=arguments[0],t=arguments[1];else{if(3!==arguments.length)throw new Error("Invalid number of arguments");var n=arguments[0],e=arguments[1],t=arguments[2]}var i=o(n,e,t);return this.add(i),i},this.addAt=function(t){var n=this,r=i.normalizeAddAtArguments.apply(this,arguments);r.forEach(function(e){if(void 0!==n.options[e.val])throw new Error("Can't give an Option the same value as another in the Select (value: '"+e.val+"')")}),e.addAt.call(this,t,r);var o=!1;r.forEach(function(e){e.selected&&(o=!0),n.options[e.val]=e,e.on("mousedown",function(){e.parent.val=e.val})}),o&&this.emit("change")},this.remove=function(){var t=this,n=i.normalizeRemoveArguments.apply(this,arguments),r=n.map(function(e){return t.children[e]});e.remove.call(this,n);var o=!1;r.forEach(function(e){e.selected&&(o=!0),delete t.options[e.val]}),o&&this.emit("change")},this.prepareForValueChange=function(e){var t=e[0];for(var n in this.options)if(n!==t){var i=this.options[n];i.selected===!0&&i.setSelectedQuiet(!1)}}})},function(e,t,n){function i(e,t,n){var i=t.apply(void 0,n);return e.add(i),i}var r=n(24),o=n(1),s=n(2),a=n(21),u=n(22),l=n(23);e.exports=r(o,function(e){this.name="Table",this.defaultStyle=s({borderSpacing:0}),this.Row=u,this.Header=a,this.Cell=l,this.init=function(){if(arguments[0]instanceof Array)var t=arguments[0];else var n=arguments[0],t=arguments[1];if(this.domNode=document.createElement("table"),e.init.call(this),this.label=n,void 0!==t)for(var i=0;i<t.length;i++)this.row(t[i])},this.header=function(){return i(this,a,arguments)},this.row=function(){return i(this,u,arguments)}})},function(e,t,n){var i=n(1),r=n(24);e.exports=r(i,function(e){this.name="TextArea",this.init=function(t){this.domNode=document.createElement("textarea"),e.init.call(this),this.label=t},Object.defineProperty(this,"val",{get:function(){return this.domNode.value},set:function(e){this.val!==e&&(this.domNode.value=e,this.emit("change"))}})})},function(e,t,n){var i=n(1),r=n(24),o=n(16);e.exports=r(i,function(e){this.name="TextField",this.init=function(){if(1===arguments.length)var t=arguments[0];else if(arguments.length>1)var n=arguments[0],t=arguments[1];this.domNode=document.createElement("input"),e.init.call(this),this.label=n,this.domNode.className="field",o.setAttribute(this.domNode,"type","text"),t&&o.setAttribute(this.domNode,"type","password")},Object.defineProperty(this,"val",{get:function(){return this.domNode.value},set:function(e){this.val!==e&&(this.domNode.value=e,this.emit("change"))}})})},function(e,t,n){var i=n(1),r=n(24),o=n(2);e.exports=r(i,function(e){this.name="Text",this.defaultStyle=o({whiteSpace:"pre-wrap"}),this.init=function(){if(1===arguments.length)var t=arguments[0];else var n=arguments[0],t=arguments[1];void 0===t&&(t=""),e.init.call(this);var i=this;this.label=n,this.text=t,this.on("input",function(e){var t={newText:e.srcElement.textContent,oldText:i.oldText};i.oldText=t.newText}),this.on("blur",function(e){var t={newText:e.srcElement.textContent,oldText:i.lastFocus};i.lastFocus=t.newText})},Object.defineProperty(this,"text",{get:function(){return this.domNode.textContent},set:function(e){this.domNode.innerText=e}})})},function(e,t,n){function i(e,t){var n=e[0],r=e[1];for(var o in r)Object.hasOwnProperty.call(r,o)&&(t&&n[o]instanceof Object&&r[o]instanceof Object?i([n[o],r[o]],!0):n[o]=r[o]);if(e.length>2){var s=[n].concat(e.slice(2));return i(s,t)}return n}function r(e){return Array.prototype.slice.call(e,0)}{var o=(n(27),t.merge=function(){return i(r(arguments),!1)});t.deepMerge=function(){return i(r(arguments),!0)}}t.objectConjunction=function(e,t){var n={};return o(n,e),o(n,t),n},t.arrayToMap=function(e){var t={};return e.forEach(function(e){t[e]=!0}),t}},function(e,t){function n(e,t){for(var n,i=[e];n=i.pop();)if(3==n.nodeType){if(t(n)===!0)break}else for(var r=n.childNodes.length;r--;)i.push(n.childNodes[r])}function i(e,t){for(var n=0,i=!0,r=0;t>r-n&&r<e.length;r++)-1!==[" ","\n","	","\r"].indexOf(e.textContent[r])?i?n++:i=!0:i=!1;return n}var r=e.exports.node=function(e,t,n){var i=document.createElement(e);if(void 0!==n){if(void 0!==n.attr)for(var r in n.attr)createAttribute(i,r,n.attr[r]);void 0!==n.textContent&&(i.textContent=n.textContent)}return void 0!==t&&(i.className=t),i};e.exports.div=function(e,t){return r("div",e,t)};e.exports.setAttribute=function(){if(2===arguments.length)var e=this.domNode,t=arguments[0],n=arguments[1];else{if(3!==arguments.length)throw new Error("This function expects arguments to be: [domNode,] type, value");var e=arguments[0],t=arguments[1],n=arguments[2]}var i=document.createAttribute(t);i.value=n,e.setAttributeNode(i)};t.setSelectionRange=function(e,t,r){if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.setSelectionRange(t,r);else{var o=0,s=document.createRange();s.setStart(e,0),s.collapse(!0);var a=!1;n(e,function(e){var n=i(e,e.length),u=o+e.length-n;if(!a&&t>=o&&u>=t){var l=t-o,c=i(e,l);s.setStart(e,l+c),a=!0}if(a&&r>=o&&u>=r){var l=r-o,h=i(e,l);return s.setEnd(e,l+h),!0}o=u});var u=window.getSelection();u.removeAllRanges(),u.addRange(s)}},t.getSelectionRange=function(e){for(var t=window.getSelection(),r="INPUT"===e.nodeName||"TEXTAREA"===e.nodeName,o=0;o<t.rangeCount;o++){var s=t.getRangeAt(0);if(!r){var a=e.contains(s.startContainer);if(a)var u=e,l=!0;else var u=s.commonAncestorContainer,l=!1,c=!1;var h,d,f=0;return n(u,function(t){if(l){if(!a&&!e.contains(t))return!0}else{if(t===s.startContainer&&(c=!0),!e.contains(t)||!c)return;c&&(l=!0)}return t===s.startContainer&&(h=f+s.startOffset-i(t,s.startOffset)),t===s.endContainer?(d=f+s.endOffset-i(t,s.endOffset),!0):void(f+=t.length-i(t,t.length))}),void 0!==h||l?(void 0===h&&(h=0),void 0===d&&(d=f),[h,d]):void 0}if(s.startOffset===s.endOffset&&s.startContainer.children[s.startOffset]===e)return[e.selectionStart,e.selectionEnd]}}},function(e,t,n){function i(e,t){e._styleSetupObject=void 0!==t&&void 0!==t.setup?t.setup(e):void 0}function r(e){var t=e.currentStyle;if(void 0!==t&&void 0!==t.setup){if(void 0===t.kill)throw new Error('style has been unset but does not have a "kill" function to undo its "setup" function');t.kill(e,e._styleSetupObject)}}function o(e,t){void 0!==t&&void 0!==t.stateHandler&&(v(e,t.stateHandler(e.state.subject)),e.state.on("change",function(){v(e,t.stateHandler(e.state.subject))}))}function s(e,t){var n=e.currentStyle;void 0!==n&&(e.domNode.className=e.domNode.className.replace(new RegExp(" ?\\b"+n.className+"\\b"),"")),void 0!==t&&(e.domNode.className=t.className+" "+e.domNode.className.trim())}function a(e){if(!(e instanceof l))throw new Error("defaultStyle property must be a Style object");if(void 0!==e.setup||void 0!==e.kill||void 0!==e.stateHandler||Object.keys(e.componentStyleMap).length>0||Object.keys(e.labelStyleMap).length>0)throw new Error("A Block's defaultStyle can only contain basic css stylings, no Block, label, or pseudoclass stylings, nor run/kill javascript")}var u=n(31),l=n(2),c=n(15);t.defaultStyleMap=new u;var h=t.propogateStyleSet=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(void 0===i._style)if(void 0===t)v(i,void 0);else{var r=d(t,i);
void 0!==r&&v(i,r)}var o;void 0!==i._style?o=i._style.get(i):void 0!==t&&(o=d(t,i),void 0!==o&&(o=o.get(i))),i.computedStyleMap=void 0!==o?void 0!==t?f(t,o.componentStyleMap):o.componentStyleMap:t,h(i.children,i.computedStyleMap)}},d=t.getStyleForComponent=function(e,t){for(var n=t.constructor;void 0!==n;){var i=e[n.name];if(void 0!==i)return i;n=n.parent}},f=t.styleMapConjunction=function(e,t){var n=l.computedStyles.get([e,t]);return void 0===n&&(n=c.objectConjunction(e,t),l.computedStyles.set([e,t],n)),n},v=t.setCurrentStyle=function(e,t){if(t!==e.currentStyle){if(void 0!==t)var n=t.get(e);else var n=t;s(e,n),r(e),e.currentStyle=n,i(e,n),o(e,n)}};t.createDefaultBlockStyle=function(e){void 0!==e.defaultStyle&&a(e.defaultStyle);for(var n=[],i=e.constructor;void 0!==i;)void 0!==i.defaultStyle&&n.push(i.defaultStyle),i=i.parent;var r={};if(n.reverse().forEach(function(e){for(var t in e.styleDefinitions){c.merge(r,e.styleDefinitions[t]);break}}),Object.keys(r).length>0)var o=l(r,{"default":!0});else var o=!1;return t.defaultStyleMap.set(e.constructor,o),o}},function(e,t,n){var i=n(1),r=n(2),o=n(24);e.exports=o(i,function(e){this.name="Option",this.defaultStyle=r({display:"block"}),this.init=function(t,n,i){this.domNode=document.createElement("option"),e.init.call(this),this.label=t,this.text=i,this.val=n},Object.defineProperty(this,"val",{get:function(){return this.attr("value")},set:function(e){if(void 0!==this.parent){if(void 0!==this.parent.options[e])throw new Error("Can't give an Option the same value as another in the Select or MultiSelect (value: '"+e+"')");null!==this.val&&delete this.parent.options[this.val],this.parent.options[e]=this}this.attr("value",e)}}),Object.defineProperty(this,"selected",{get:function(){return this.domNode.selected},set:function(e){var t=e===!0;return this.selected===t?!1:(void 0!==this.parent&&this.parent.prepareForValueChange([this.val]),this.setSelectedQuiet(t),void(void 0!==this.parent&&this.parent.emit("change")))}}),Object.defineProperty(this,"text",{get:function(){return this.domNode.textContent},set:function(e){this.domNode.innerText=e}}),this.setSelectedQuiet=function(e){this.selected!==e&&(this.domNode.selected=e,this.emit("change"))}})},function(e,t,n){function i(e,t,n){r(e[t][n],n),r(e[a(t)],n)}function r(e,t){if(void 0!==e)for(var n=0;n<e.length;n++)e[n](t)}function o(e,t,n,i){if(n instanceof Function&&(i=n,n=void 0),void 0!==n&&void 0!==i){var r=e[t][n];void 0===r&&(r=e[t][n]=[]),r.push(i)}else e[a(t)].push(i)}function s(e,t,n,i){if(n instanceof Function&&(i=n,n=void 0),void 0!==n&&void 0!==i)u(e[t][n],i);else if(void 0!==n)delete e[t][n];else if(void 0!==i){var r=a(t);u(e[r],i)}else{var r=a(t);e[t]={},e[r]=[]}}function a(e){return"ifonHandlers"===e?"ifonAllHandlers":"ifoffHandlers"===e?"ifoffAllHandlers":void 0}function u(e,t){var n=e.indexOf(t);e.splice(n,1)}var l=n(28).EventEmitter,c=n(24),h=n(15);e.exports=c(l,function(e){this.init=function(){e.apply(this,arguments),this.ifonHandlers={},this.ifoffHandlers={},this.ifonAllHandlers=[],this.ifoffAllHandlers=[]},this.ifon=function(e,t){if(e instanceof Function){t=e;for(var n in this._events)this.listeners(n).length>0&&t(n)}else this.listeners(e).length>0&&t(e);o(this,"ifonHandlers",e,t)},this.removeIfon=function(e,t){s(this,"ifonHandlers",e,t)},this.ifoff=function(e,t){o(this,"ifoffHandlers",e,t)},this.removeIfoff=function(e,t){s(this,"ifoffHandlers",e,t)},this.proxy=function(e,t){if(void 0===t&&(t={}),void 0!==t.except)var n=h.arrayToMap(t.except),i=function(e){return!(e in n)};else if(void 0!==t.only)var r=h.arrayToMap(t.only),i=function(e){return e in r};else var i=function(){return!0};var o,s=this;this.ifon(function(t){i(t)&&e.on(t,o=function(){s.emit.apply(s,[t].concat(Array.prototype.slice.call(arguments)))})}),this.ifoff(function(t){i(t)&&e.off(t,o)})},this.on=this.addListener=function(t){var n=0===this.listeners(t).length;e.prototype.on.apply(this,arguments),n&&i(this,"ifonHandlers",t)},this.off=this.removeListener=function(t){var n=1===this.listeners(t).length;e.prototype.removeListener.apply(this,arguments),n&&i(this,"ifoffHandlers",t)},this.removeAllListeners=function(t){var n=[];if(void 0!==t)this.listeners(t).length>0&&n.push(t);else for(var t in this._events)this.listeners(t).length>0&&n.push(t);e.prototype.removeAllListeners.apply(this,arguments);for(var r=0;r<n.length;r++)i(this,"ifoffHandlers",n[r])}})},function(e,t,n){var i=n(1),r=n(24),o=n(2);e.exports=r(i,function(e){this.name="ListItem",this.defaultStyle=o({display:"list-item"}),this.init=function(){if(arguments.length<=1)var t=arguments[0];else var n=arguments[0],t=arguments[1];this.domNode=document.createElement("li"),e.init.call(this),this.label=n,t instanceof i?this.add(t):void 0!==t&&(this.domNode.textContent=t)}})},function(e,t,n){var i=n(26);e.exports=i("th","TableHeader")},function(e,t,n){var i=n(26);e.exports=i("tr","TableRow")},function(e,t,n){var i=n(1),r=n(24);e.exports=r(i,function(e){this.name="TableCell",this.init=function(){if(arguments.length<=1)var t=arguments[0];else var n=arguments[0],t=arguments[1];this.domNode=document.createElement("td"),e.init.call(this),this.label=n,t instanceof i?this.add(t):void 0!==t&&(this.domNode.textContent=t)},this.colspan=function(e){this.attr("colspan",e)}})},function(e){"use strict";function t(){var e=arguments;if(1==e.length)var c={init:o},h=e[0];else var c=e[0],h=e[1];var d={};-1!==[Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError].indexOf(c)&&(c=n(c,d));var f="function"==typeof c;h[s]=f?c[s]:c;var v=new h(c);d.name=v.name,!v[u]&&f&&(v[u]=function(){c.apply(this,arguments)});var p=function(){};p[s]=v;var m=v.name?v.name:"";if(v[u]===r||v[u]===o)var g=new Function("F","return function "+m+"(){return new F()}")(p);else var g=new Function("F","i","u","n","return function "+m+"(){ var x=new F(),r=i.apply(x,arguments)\nif(r===n)\nreturn x\nelse if(r===u)\nreturn n\nelse\nreturn r\n}")(p,v[u],t[a]);v.constructor=g;for(var y in v)i(g,v,y);for(var y in c)l.call(c,y)&&g[y]===r&&i(g,c,y);return g.parent=c,g[s]=v,g}function n(e,t){function n(){var n=new e(arguments[0]);return n.name=t.name,this.message=n.message,Object.defineProperty?Object.defineProperty(this,"stack",{get:function(){return n.stack}}):this.stack=n.stack,this}var i=function(){};return i.prototype=e.prototype,n.prototype=new i,n}function i(e,t,n){try{var i=Object.getOwnPropertyDescriptor(t,n);i.get!==r||i.get!==r&&Object.defineProperty!==r?Object.defineProperty(e,n,i):e[n]=t[n]}catch(o){}}var r,o=function(){},s="prototype",a="undefined",u="init",l={}.hasOwnProperty;t[a]={},e.exports=t},function(e){var t=function(){function e(e){for(var t=e.cssRules||e.rules||[],n={},i=0;i<t.length;i++){var r=o(t[i].selectorText);n[r]||(n[r]=[]),n[r].push({sheet:e,index:i,style:t[i].style})}return n}function t(e,t){var n=e.cssRules||e.rules||[],i=[];t=t.toLowerCase();for(var r=0;r<n.length;r++){var o=n[r].selectorText;!o||o!=t&&o!=h(t)&&o!=d(t)||i.push({sheet:e,index:r,style:n[r].style})}return i}function n(e,t){var n=e.cssRules||e.rules||[],o=n.length,s=r(e,t,n,o);return s||i(e,t,o),{sheet:e,index:o,style:n[o].style}}function i(e,t,n){e.insertRule?e.insertRule(t+" { }",n):e.addRule(t,null,n)}function r(e,t,n,r){var a,u;if(b.exec(t))a=t,u=s(t);else{if(!w.exec(t))return!1;a=o(t),u=t}return g||(i(e,a,r),n.length<=r&&(g=!0)),g&&i(e,u,r),!0}function o(e){return e.replace(w,function(e,t,n,i){return t+"::"+i})}function s(e){return e.replace(b,function(e,t,n){return":"+n})}function a(e){var t=e.sheet;t.deleteRule?t.deleteRule(e.index):t.removeRule&&t.removeRule(e.index)}function u(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function l(e){for(var t={},n=0;n<e.length;n++)u(t,c(e[n].style));return t}function c(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=e[v(e[n])];return t}function h(e){for(var t="",n=0;null!=(match=y.exec(e))&&""!==match[0];)t+=e.substring(n,match.index),t+=e.substr(match.index+match[1].length,match[2].length),t+=e.substr(match.index,match[1].length),n=match.index+match[0].length;return t+=e.substr(n)}function d(e){return b.exec(e)?s(e):e}function f(e,t){for(var n in t){var i=t[n],r=i.indexOf(" !important");e.style.removeProperty(n),r>0?e.style.setProperty(n,i.substr(0,r),"important"):e.style.setProperty(n,i)}}function v(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function p(e){var t={};for(var n in e)t[m(n)]=e[n];return t}function m(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}var g,y=/((?:\.|#)[^\.\s#]+)((?:\.|#)[^\.\s#]+)/g,b=/(::)(before|after|first-line|first-letter|selection)/,w=/([^:])(:)(before|after|first-line|first-letter|selection)/,x=function(e){this.doc=e,this.head=this.doc.head||this.doc.getElementsByTagName("head")[0],this.sheets=this.doc.styleSheets||[]};x.prototype={get:function(n){if(!this.defaultSheet)return{};if(n)return l(t(this.defaultSheet,n));var i=e(this.defaultSheet);for(n in i)i[n]=l(i[n]);return i},getAll:function(e){for(var n={},i=0;i<this.sheets.length;i++)u(n,l(t(this.sheets[i],e)));return n},set:function(e,i){this.defaultSheet||(this.defaultSheet=this._createSheet()),i=p(i);var r=t(this.defaultSheet,e);r.length||(r=[n(this.defaultSheet,e)]);for(var o=0;o<r.length;o++)f(r[o],i)},remove:function(e){if(this.defaultSheet){if(!e)return this._removeSheet(this.defaultSheet),void delete this.defaultSheet;for(var n=t(this.defaultSheet,e),i=0;i<n.length;i++)a(n[i]);return n.length}},_createSheet:function(){var e=this.doc.createElement("style");return e.type="text/css",e.rel="stylesheet",this.head.appendChild(e),e.sheet},_removeSheet:function(e){var t=e.ownerNode;t.parentNode.removeChild(t)}};var S=new x(document);return S.forDocument=function(e){return new x(e)},S}();"undefined"!=typeof e&&e.exports&&(e.exports=t)},function(e,t,n){var i=n(24),r=n(1),o=n(2),s=n(23);e.exports=function(e,t){return i(r,function(n){this.name=t,this.defaultStyle=o({display:"table-row"}),this.init=function(){if(arguments[0]instanceof Array)var t=arguments[0];else var i=arguments[0],t=arguments[1];if(this.domNode=document.createElement(e),n.init.call(this),this.label=i,void 0!==t)for(var r=0;r<t.length;r++)this.cell(t[r])},this.cell=function(){var e=s.apply(void 0,arguments);return this.add(e),e}})}},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return r.exec(e).slice(1)};t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),o="/"===s(e,-1);return e=n(i(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,u=0;s>u;u++)if(r[u]!==o[u]){a=u;break}for(var l=[],u=a;u<r.length;u++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(t,n(33))},function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function r(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,i,s,a,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(i=this._events[e],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,a=new Array(s-1),u=1;s>u;u++)a[u-1]=arguments[u];i.apply(this,a)}else if(r(i)){for(s=arguments.length,a=new Array(s-1),u=1;s>u;u++)a[u-1]=arguments[u];for(l=i.slice(),s=l.length,u=0;s>u;u++)l[u].apply(this,a)}return!0},t.prototype.addListener=function(e,i){var s;if(!n(i))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(i.listener)?i.listener:i),this._events[e]?r(this._events[e])?this._events[e].push(i):this._events[e]=[this._events[e],i]:this._events[e]=i,r(this._events[e])&&!this._events[e].warned){var s;s=o(this._maxListeners)?t.defaultMaxListeners:this._maxListeners,s&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var r=!1;return i.listener=t,this.on(e,i),this},t.prototype.removeListener=function(e,t){var i,o,s,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,o=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(a=s;a-->0;)if(i[a]===t||i[a].listener&&i[a].listener===t){o=a;break}if(0>o)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],n(i))this.removeListener(e,i);else for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.listenerCount=function(e,t){var i;return i=e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},function(e){e.exports=function(e){for(var t=Array.prototype.slice.call(e,0),n=0,i=t.length-1;i>=0&&void 0===t[i];i--)n++;return t.splice(t.length-n,n),t}},function(e,t,n){function i(e){return e instanceof Array||(e=e.toString().split(".")),e}function r(e,t){for(var n=e,i=0;i<t.length-1;i++)n=n[t[i]];return{obj:n,key:t[i]}}function o(e,t,n,i){var o=r(e.subject,t),s=n;i.union===!0&&(n=n.subject),o.obj[o.key]=n;var a={type:"set",property:t};void 0!==i.id&&(a.id=i.id),e.emit("change",a),void 0!==i.union&&h(e,s,t,i.union)}function s(e,t,n,i){var r=m(e.subject,t),o=r.length;r.push.apply(r,n);var s=l(r,o,n.length,i.union),a={type:"added",property:t,index:o,count:1};void 0!==i.id&&(a.id=i.id),e.emit("change",a),c(e,s,t,i.union)}function a(e,t,n,i){var r=n[0],o=n[1],s=m(e.subject,t),a=s.splice.apply(s,n);if(o>0){var u={type:"removed",property:t,index:r,removed:a};void 0!==i.id&&(u.id=i.id),e.emit("change",u)}if(n.length>2){var u={type:"added",property:t,index:r,count:n.length-2},h=l(s,r,u.count,i.union);void 0!==i.id&&(u.id=i.id),e.emit("change",u),c(e,h,t,i.union)}return a}function u(e,t,n,i){var r=n[0];if(0!==r.length){var o=m(e.subject,t),s=o.length,a=[s,0];a=a.concat(r);var u=o.length;o.splice.apply(o,a);var h=l(o,u,o.length,i.union),d={type:"added",property:t,index:s,count:r.length};void 0!==i.id&&(d.id=i.id),e.emit("change",d),c(e,h,t,i.union)}}function l(e,t,n,i){var r=[];if(void 0!==i)for(var o=t+n,s=t;o>s;s++)r.push({obj:e[s],index:s}),i===!0&&(e[s]=e[s].subject);return r}function c(e,t,n,i){for(var r=0;r<t.length;r++)h(e,t[r].obj,n.concat(t[r].index),i)}function h(e,t,n,i){var r=n.length;if(void 0===t.on||void 0===t.emit||void 0===t.removeListener||void 0===t.set)throw new Error("Attempting to union a value that isn't an observee");var o,s,a=[],u=[];t.on("change",o=function(t){if(-1===u.indexOf(t)){if(i)var r=n.concat(t.property);else var r=n.concat(["subject"]).concat(t.property);var o=p.merge({},t,{property:r});a.push(o),e.emit("change",o)}}),e.on("change",s=function(e){var o=e.property.length,s=d(n,e),c=s.isWithin,h=s.couldRelocate;if(c&&-1===a.indexOf(e)){if(i)var f=e.property.slice(r);else var f=e.property.slice(r+1);var v=p.merge({},e,{property:f});u.push(v),t.emit("change",v)}else if(h)if("set"===e.type)l();else if("removed"===e.type){var m=n[e.property.length],g=e.index<=m&&m<=e.index+e.removed.length-1,y=e.index+e.removed.length-1<m&&m;g&&r+1>=o?l():y&&(n[e.property.length]=m-e.removed.length)}else if("added"===e.type){var m=n[e.property.length];e.index<m&&(n[e.property.length]=m+e.count)}});var l=function(){t.removeListener("change",o),e.removeListener("change",s)}}function d(e,t){for(var n=e.length,i=!0,r=!0,o=0;n>o;o++)t.property[o]!==e[o]&&(i=!1,o<t.property.length&&(r=!1));return t.property.length<=n?i=!1:r=!1,{couldRelocate:r,isWithin:i}}var f=n(24),v=n(28).EventEmitter,p=n(32),m=(e.exports=f(v,function(){this.init=function(e){this.subject=e,this.setMaxListeners(1e3)},this.get=function(e){return g(this,i(e))},this.set=function(e,t){o(this,i(e),t,{})},this.push=function(){s(this,[],arguments,{})},this.splice=function(){return a(this,[],arguments,{})},this.append=function(){u(this,[],arguments,{})},this.id=function(e){return g(this,[],{id:e})},this.union=function(e){return void 0===e&&(e=!1),g(this,[],{union:e})}}),e.exports.getPropertyValue=function(e,t){var n=r(e,t);return void 0!==n.key?n.obj[n.key]:n.obj}),g=f(v,function(){this.init=function(e,t,n){this.options=void 0===n?{}:n,this._observeeParent=void 0!==e._observeeParent?e._observeeParent:e,this.property=t,this.subject=m(e.subject,t);var i=this;e.on("change",function(e){var t=d(i.property,e);if(t.isWithin)i.emit("change",{type:e.type,property:e.property.slice(i.property.length),index:e.index,count:e.count,removed:e.removed});else if(t.couldRelocate)if("removed"===e.type){var n=i.property[e.property.length],r=e.index+e.removed.length-1<n;r&&(i.property[e.property.length]=n-e.removed.length)}else if("added"===e.type){var n=i.property[e.property.length];e.index<n&&(i.property[e.property.length]=n+e.count)}})},this.get=function(e){return this._observeeParent.get(this.property.concat(i(e)))},this.set=function(e,t){o(this._observeeParent,this.property.concat(i(e)),t,this.options)},this.push=function(){s(this._observeeParent,this.property,arguments,this.options)},this.splice=function(){a(this._observeeParent,this.property,arguments,this.options)},this.append=function(){u(this._observeeParent,this.property,arguments,this.options)},this.id=function(e){return g(this,this.property,p.merge({},this.options,{id:e}))},this.union=function(e){return void 0===e&&(e=!1),g(this,[],p.merge({},this.options,{union:e}))}})},function(e,t){var n,i,r;!function(o){i=[],n=o,r="function"==typeof n?n.apply(t,i):n,!(void 0!==r&&(e.exports=r))}(function(){function e(e){switch(this.clear(),arguments.length){case 0:break;case 1:this.copy(e);break;default:t(this,arguments)}}function t(e,t){for(var n=0;n<t.length;n+=2)e.set(t[n],t[n+1])}function n(e){return function(){return e.apply(this,arguments),this}}function i(e,t){Object.defineProperty&&Object.defineProperty(e,t,{enumerable:!1})}var r=e.prototype={constructor:e,get:function(e){var t=this._data[this.hash(e)];return t&&t[1]},set:function(e,t){this._data[this.hash(e)]=[e,t]},multi:function(){t(this,arguments)},copy:function(e){for(var t in e._data)this._data[t]=e._data[t]},has:function(e){return this.hash(e)in this._data},search:function(e){for(var t in this._data)if(this._data[t][1]===e)return this._data[t][0];return null},remove:function(e){delete this._data[this.hash(e)]},type:function(e){var t=Object.prototype.toString.call(e),n=t.slice(8,-1).toLowerCase();return"domwindow"!==n||e?n:e+""},keys:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},values:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},count:function(){return this.keys().length},clear:function(){this._data={}},clone:function(){return new e(this)},hash:function(t){switch(this.type(t)){case"undefined":case"null":case"boolean":case"number":case"regexp":return t+"";case"date":return":"+t.getTime();case"string":return'"'+t;case"array":for(var n=[],r=0;r<t.length;r++)n[r]=this.hash(t[r]);return"["+n.join("|");default:return t._hmuid_||(t._hmuid_=++e.uid,i(t,"_hmuid_")),"{"+t._hmuid_}},forEach:function(e){for(var t in this._data){var n=this._data[t];e.call(this,n[1],n[0])}}};e.uid=0;for(var o in r)if("constructor"!==o&&r.hasOwnProperty(o)){var s=r[o];-1===s.toString().indexOf("return ")&&(r[o]=n(s))}return e})},function(e,t,n){function i(e,t){var n=e[0],r=e[1];for(var o in r)Object.hasOwnProperty.call(r,o)&&(t&&n[o]instanceof Object&&r[o]instanceof Object?i([n[o],r[o]],!0):n[o]=r[o]);if(e.length>2){var s=[n].concat(e.slice(2));return i(s,t)}return n}function r(e){return Array.prototype.slice.call(e,0)}n(27),t.merge=function(){return i(r(arguments),!1)},t.deepMerge=function(){return i(r(arguments),!0)}},function(e){function t(){}var n=e.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var i=[];if(t){var r=document.createElement("div"),o=new MutationObserver(function(){var e=i.slice();i.length=0,e.forEach(function(e){e()})});return o.observe(r,{attributes:!0}),function(e){i.length||r.setAttribute("yes","no"),i.push(e)}}return n?(window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),i.length>0)){var n=i.shift();n()}},!0),function(e){i.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=t,n.addListener=t,n.once=t,n.off=t,n.removeListener=t,n.removeAllListeners=t,n.emit=t,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}}])});
//# sourceMappingURL=blocks.umd.js.map